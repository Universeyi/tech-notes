# Distributed System ç ”ä¹ ç¬”è®°
### TF-IDF in spark and hadoop
term-frequency and inverted document frequency 
è€ƒè™‘åˆ°/è¯æ±‡åœ¨ç¯‡ç« ä¸­å‡ºçŽ°çš„æ¦‚çŽ‡/å’Œ/è¯æ±‡åœ¨æ–‡æ¡£åº“ä¸­å‡ºçŽ°æ¦‚çŽ‡çš„åæ¯”ä¾‹/çš„ä¹˜ç§¯ã€‚æ„ä¹‰æ˜¯ç¡®å®šè¯¥ä¸»é¢˜è¯åœ¨ç¯‡ç« ä¸­çš„é‡è¦æ€§ï¼Œä½œä¸ºè¯„åˆ¤ä¸åŒç¯‡ç« ç›¸ä¼¼åº¦çš„æŒ‡æ ‡ã€‚

#### ä¸ºä½•éœ€è¦ç”¨åˆ°åˆ†å¸ƒå¼ç³»ç»Ÿå‘¢ï¼Ÿ
ä¼ ç»Ÿçš„æ–¹æ³•é‡‡ç”¨éåŽ†å¼ï¼Œå•çº¿ç¨‹ï¼Œæ•ˆçŽ‡ä½Žã€‚åˆ©ç”¨sparkå¹³å°æˆ–è€…Hadoopå¹³å°æä¾›ç±»ä¼¼ `java stream` çš„mapç±»åž‹æ“ä½œï¼Œå¯ä»¥ä¸€è¡Œä»£ç æžå®šå¹¶è¡Œæ“ä½œï¼Œæé«˜æ•ˆçŽ‡ã€‚

å…·ä½“æ¥è¯´å¯¹äºŽä¸€ç¯‡æ–‡ç« ï¼Œç»Ÿè®¡æ–‡ä¸­å•è¯universeçš„æ•°é‡ï¼Œæ–¹æ³•åˆ™æ˜¯ç”Ÿæˆâ€™key-valueâ€™å¯¹ â€” (TERM\_i\_,1) ï¼ˆæ­¤ä¸ºMAPæ“ä½œï¼‰ï¼Œç„¶åŽç´¯åŠ å¾—åˆ°ç›¸åŒâ€™TERM\_i\_â€™çš„æ€»æ•°ï¼ˆæ­¤ä¸ºreduceæ“ä½œï¼‰ï¼Œå¯¹æ–‡ç« é•¿åº¦åº¦å½’ä¸€åŒ–åŽå¾—åˆ°è¯é¢‘(term frequency)ã€‚DFäº¦æ˜¯è¿™ä¸ªåŽŸç†

### Page-rank with Spark
å¯¹äºŽä¸€ä¸ªè¿­ä»£çš„æ•°å€¼è®¡ç®—è¿‡ç¨‹ï¼Œpage-rankç®—æ³•å°†åˆ†å¸ƒå¼çš„å¤šæºè®¡ç®—é‡‡ç”¨sparkç±»åž‹çš„å¹³å°å¹¶è¡Œè¿è¡Œã€‚è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œsparkçš„ç‰¹æ€§ `in-memory caching of data`åŠ©åŠ›è¿­ä»£é€ŸçŽ‡ã€‚æˆä¸ºä¸€ä¸ªä¸šç•Œå®žè·µå…¸èŒƒã€‚

### æ•°æ®ä¼ è¾“â€”åˆ†å¸ƒå¼ç³»ç»Ÿå·¥ä½œçš„åŸºç¡€ä¹‹ä¸€
ä¸åŒhostsä¹‹ä¸Šçš„JVMä¹‹é—´é€šè®¯ä¾èµ– `socket` ,ä¸»è¦åœ¨å®¢æˆ·ç«¯ä¸ŽæœåŠ¡å™¨ç«¯å®žçŽ°äº†`getInputStream()` å’Œ `getOutputStream()`ä¸¤ç§æ–¹æ³•

Serialization æ˜¯ä¼ é€å¤§ä½“ç§¯å¯¹è±¡æ‰€ç”¨çš„å‡ ç±»åŠžæ³•å®žçŽ°çš„å‡ ç±»æ–¹å¼
1. è‡ªå®šä¹‰åºåˆ—åŒ–æ–¹æ³•ã€‚ç¼ºç‚¹ï¼šå½“å¤šå±‚å¼•ç”¨çš„å¯¹è±¡ç›®æ ‡æ—¶ï¼Œä¼šå¯¼è‡´å¤æ‚çš„é—®é¢˜ã€‚
2. XML ä¸ºæ ‡å‡†çš„`data interchange standard` ç¼ºç‚¹æ˜¯ï¼šè®¸å¤š`metadata overhead`ä¼šé™„åŠ åœ¨æ•°æ®ä¸Šï¼Œä½œä¸ºæ ¼å¼è¾…åŠ©ã€‚ç©ºé—´å¼€é”€å˜å¤§ã€‚
3. å®žçŽ°`ðš‚ðšŽðš›ðš’ðšŠðš•ðš’ðš£ðšŠðš‹ðš•ðšŽ Interface` å…‹æœäº†ä»¥ä¸Šä¸¤ç§ç¼ºç‚¹ï¼Œå…‹æœäº†â€infinite reference loopâ€çš„ç¼ºç‚¹ã€‚
4. Interface Definition Language (IDL) æ”¯æŒå¤šè¯­è¨€è·¨å¹³å°æ•°æ®ä¼ è¾“ã€‚ç¼ºç‚¹ï¼šéœ€è¦é¢å¤–çš„IDL buildæ—¶é—´å’Œ`.proto`è¾…åŠ©æ–‡ä»¶çš„å‚¨å­˜çš„ç©ºé—´æ¶ˆè€—ã€‚ å¦‚æžœåªéœ€åœ¨JVMå¹³å°å®žçŽ°å¯¹è±¡ä¼ è¾“çš„è¯ï¼Œä¸å¿…é‡‡ç”¨è¯¥æ–¹æ³•ã€‚

RMI (Remote Method Invocation) æ˜¯å®žçŽ°åˆ†å¸ƒå¼å¯¹è±¡æ–¹æ³•è°ƒç”¨çš„javaå·¥å…·ã€‚æœ¬è´¨æ˜¯ä¸€å±‚å°è£…äº†socketçš„å¹³å°ï¼Œå¹¶æ˜ å°„äº†global variableå’Œlocal variableã€‚å¯¹è±¡éœ€æ³¨å†Œå¹¶è®¾ç½®ä»£ç†äººã€‚

Multicast  -\> Publish and Subscribe (high level Frame API)